<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>kdriveExpress SDK: kdrive_express_dpt.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">kdriveExpress SDK
   &#160;<span id="projectnumber">16.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">kdrive_express_dpt.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Copyright (c) 2002-2016 WEINZIERL ENGINEERING GmbH</span></div>
<div class="line"><span class="comment">// All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div>
<div class="line"><span class="comment">// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></div>
<div class="line"><span class="comment">// FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT</span></div>
<div class="line"><span class="comment">// SHALL THE COPYRIGHT HOLDERS BE LIABLE FOR ANY DAMAGES OR OTHER LIABILITY,</span></div>
<div class="line"><span class="comment">// WHETHER IN CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION</span></div>
<div class="line"><span class="comment">// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="kdrive__express_8h.html">kdrive_express.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define ERROR_MESSAGE_LEN       (128)                                           </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_1                      (0x0901)                                        </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_2                      (0x090A)                                        </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_3                      ((ADDR_DPT_2) + 1)                      </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_4                      ((ADDR_DPT_3) + 1)                      </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_5                      ((ADDR_DPT_4) + 1)                      </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_6                      ((ADDR_DPT_5) + 1)                      </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_7                      ((ADDR_DPT_6) + 1)                      </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_8                      ((ADDR_DPT_7) + 1)                      </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_9                      ((ADDR_DPT_8) + 1)                      </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_10_LOCAL       ((ADDR_DPT_9) + 1)                      </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_10_UTC         ((ADDR_DPT_10_LOCAL) + 1)       </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_10                     ((ADDR_DPT_10_UTC) + 1)         </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_11_LOCAL       ((ADDR_DPT_10) + 1)                     </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_11_UTC         ((ADDR_DPT_11_LOCAL) + 1)       </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_11                     ((ADDR_DPT_11_UTC) + 1)         </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_12                     ((ADDR_DPT_11) + 1)                     </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_13                     ((ADDR_DPT_12) + 1)                     </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_14                     ((ADDR_DPT_13) + 1)                     </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_15                     ((ADDR_DPT_14) + 1)                     </span></div>
<div class="line"><span class="preprocessor">#define ADDR_DPT_16                     ((ADDR_DPT_15) + 1)                     </span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">/*******************************</span></div>
<div class="line"><span class="comment">** Private Functions</span></div>
<div class="line"><span class="comment">********************************/</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> send_telegrams(<a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> ap);</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> on_telegram_callback(<span class="keyword">const</span> <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* telegram, <a class="code" href="kdrive__express__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> telegram_len, <span class="keywordtype">void</span>* user_data);</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> error_callback(<a class="code" href="kdrive__express__config_8h.html#a6e277169b51e7b5d4876ec6837433e1a">error_t</a> e, <span class="keywordtype">void</span>* user_data);</div>
<div class="line"></div>
<div class="line"><span class="comment">/*******************************</span></div>
<div class="line"><span class="comment">** Main</span></div>
<div class="line"><span class="comment">********************************/</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> value = 1; </div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> key = 0; </div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> iface_count = 0; </div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> ap = 0; </div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                Configure the logging level and console logger</span></div>
<div class="line"><span class="comment">        */</span></div>
<div class="line">        <a name="a0"></a><a class="code" href="group__kdrive__express__logger.html#gae3b562c53619d5c4cd47e5cebe54a598">kdrive_logger_set_level</a>(<a name="a1"></a><a class="code" href="kdrive__express__logger_8h.html#a6f308019794a20b3c47c8b6a0d9f5e8f">KDRIVE_LOGGER_INFORMATION</a>);</div>
<div class="line">        <a name="a2"></a><a class="code" href="group__kdrive__express__logger.html#ga57c858602530af1b6bd58094325d39e6">kdrive_logger_console</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                We register an error callback as a convenience logger function to</span></div>
<div class="line"><span class="comment">                print out the error message when an error occurs.</span></div>
<div class="line"><span class="comment">        */</span></div>
<div class="line">        <a name="a3"></a><a class="code" href="kdrive__express__error_8h.html#a1bf65c456d6d8af52816544677db9f5b">kdrive_register_error_callback</a>(&amp;error_callback, NULL);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                We create a Access Port descriptor. This descriptor is then used for</span></div>
<div class="line"><span class="comment">                all calls to that specific access port.</span></div>
<div class="line"><span class="comment">        */</span></div>
<div class="line">        ap = <a name="a4"></a><a class="code" href="group__kdrive__express__access.html#ga46991a58758f39719659cda7a313d104">kdrive_ap_create</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">                We check that we were able to allocate a new descriptor</span></div>
<div class="line"><span class="comment">                This should always happen, unless a bad_alloc exception is internally thrown</span></div>
<div class="line"><span class="comment">                which means the memory couldn&#39;t be allocated.</span></div>
<div class="line"><span class="comment">        */</span></div>
<div class="line">        <span class="keywordflow">if</span> (ap == <a name="a5"></a><a class="code" href="kdrive__express__defs_8h.html#acd0d2df204e96aa933078becf17007af">KDRIVE_INVALID_DESCRIPTOR</a>)</div>
<div class="line">        {</div>
<div class="line">                <a name="a6"></a><a class="code" href="group__kdrive__express__logger.html#ga307063a4ef29cab33ad29e967eda6be6">kdrive_logger</a>(<a name="a7"></a><a class="code" href="kdrive__express__logger_8h.html#a1918692fc5af9c0c5a19199891842641">KDRIVE_LOGGER_FATAL</a>, <span class="stringliteral">&quot;Unable to create access port. This is a terminal failure&quot;</span>);</div>
<div class="line">                <span class="keywordflow">while</span> (1)</div>
<div class="line">                {</div>
<div class="line">                        ;</div>
<div class="line">                }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        iface_count = <a name="a8"></a><a class="code" href="group__kdrive__express__access.html#ga39635afd85f716a39cae9746d252e355">kdrive_ap_enum_usb</a>(ap);</div>
<div class="line">        <a name="a9"></a><a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(<a class="code" href="kdrive__express__logger_8h.html#a6f308019794a20b3c47c8b6a0d9f5e8f">KDRIVE_LOGGER_INFORMATION</a>, <span class="stringliteral">&quot;Found %d KNX USB Interfaces&quot;</span>, iface_count);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* If we found at least 1 interface we simply open the first one (i.e. index 0) */</span></div>
<div class="line">        <span class="keywordflow">if</span> ((iface_count &gt; 0) &amp;&amp; (<a name="a10"></a><a class="code" href="group__kdrive__express__access.html#ga6208dcd4a50baf30b118918c274aa481">kdrive_ap_open_usb</a>(ap, 0) == <a name="a11"></a><a class="code" href="kdrive__express__error_8h.html#a8bb73717f4806f2c6b71d660fd7aa463">KDRIVE_ERROR_NONE</a>))</div>
<div class="line">        {</div>
<div class="line">                <span class="comment">/* register to receive telegrams */</span></div>
<div class="line">                <a name="a12"></a><a class="code" href="group__kdrive__express__access.html#gad8b0f702e8d682c4063e8b9f6517a18a">kdrive_ap_register_telegram_callback</a>(ap, &amp;on_telegram_callback, NULL, &amp;key);</div>
<div class="line"></div>
<div class="line">                <span class="comment">/* send group value write telegrams with various datapoint formats */</span></div>
<div class="line">                send_telegrams(ap);</div>
<div class="line"></div>
<div class="line">                <span class="comment">/* go into bus monitor mode */</span></div>
<div class="line">                <a class="code" href="group__kdrive__express__logger.html#ga307063a4ef29cab33ad29e967eda6be6">kdrive_logger</a>(<a class="code" href="kdrive__express__logger_8h.html#a6f308019794a20b3c47c8b6a0d9f5e8f">KDRIVE_LOGGER_INFORMATION</a>, <span class="stringliteral">&quot;Entering BusMonitor Mode&quot;</span>);</div>
<div class="line">                <a class="code" href="group__kdrive__express__logger.html#ga307063a4ef29cab33ad29e967eda6be6">kdrive_logger</a>(<a class="code" href="kdrive__express__logger_8h.html#a6f308019794a20b3c47c8b6a0d9f5e8f">KDRIVE_LOGGER_INFORMATION</a>, <span class="stringliteral">&quot;Press [Enter] to exit the application ...&quot;</span>);</div>
<div class="line">                getchar();</div>
<div class="line"></div>
<div class="line">                <span class="comment">/* close the access port */</span></div>
<div class="line">                <a name="a13"></a><a class="code" href="group__kdrive__express__access.html#ga4f4f676e23e58d42f13dc0d9f60eef24">kdrive_ap_close</a>(ap);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* releases the access port */</span></div>
<div class="line">        <a name="a14"></a><a class="code" href="group__kdrive__express__access.html#ga402bceaf6ca8a60544d7196eb4d8f0f4">kdrive_ap_release</a>(ap);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*******************************</span></div>
<div class="line"><span class="comment">** Private Functions</span></div>
<div class="line"><span class="comment">********************************/</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> send_telegrams(<a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> ap)</div>
<div class="line">{</div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> buffer[<a name="a15"></a><a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>];</div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> length;</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-1 (1 bit) */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a16"></a><a class="code" href="group__kdrive__express__dpt.html#ga39eebf22fb1e3ad545cabba3c8a6934f">kdrive_dpt_encode_dpt1</a>(buffer, &amp;length, 1);</div>
<div class="line">        <a name="a17"></a><a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_1, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-2: 1 bit controlled */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a18"></a><a class="code" href="group__kdrive__express__dpt.html#ga4ae609a582652107ac8647382769e454">kdrive_dpt_encode_dpt2</a>(buffer, &amp;length, 1, 1);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_2, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-3: 3 bit controlled */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a19"></a><a class="code" href="group__kdrive__express__dpt.html#ga446566e0748fe8d625d6e0a20efdd712">kdrive_dpt_encode_dpt3</a>(buffer, &amp;length, 1, 0x05);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_3, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-4: Character */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a20"></a><a class="code" href="group__kdrive__express__dpt.html#ga62c2e49ce8813d481388c4ce779b4d5b">kdrive_dpt_encode_dpt4</a>(buffer, &amp;length, <span class="charliteral">&#39;A&#39;</span>);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_4, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-5: 8 bit unsigned value */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a21"></a><a class="code" href="group__kdrive__express__dpt.html#ga5a597cc4e6bb3be5c2b713215c0d052f">kdrive_dpt_encode_dpt5</a>(buffer, &amp;length, 0x23);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_5, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-6: 8 bit signed value */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a22"></a><a class="code" href="group__kdrive__express__dpt.html#ga878c9abf0d915802994155fe99bec529">kdrive_dpt_encode_dpt6</a>(buffer, &amp;length, -5);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_6, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-7: 2 byte unsigned value */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a23"></a><a class="code" href="group__kdrive__express__dpt.html#ga3f99cd568611dfee54aabbb8149f471e">kdrive_dpt_encode_dpt7</a>(buffer, &amp;length, 0xAFFE);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_7, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-8: 2 byte signed value */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a24"></a><a class="code" href="group__kdrive__express__dpt.html#gaf91d387583c7042c7c8e395fbf178645">kdrive_dpt_encode_dpt8</a>(buffer, &amp;length, -1024);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_8, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-9: 2 byte float value */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a25"></a><a class="code" href="group__kdrive__express__dpt.html#gab9e600e641724178c515893d3f48835f">kdrive_dpt_encode_dpt9</a>(buffer, &amp;length, 12.25f);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_9, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-10: Local Time */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a26"></a><a class="code" href="group__kdrive__express__dpt.html#ga57fb14d8d9e1b3f3479cf21f2b4b44db">kdrive_dpt_encode_dpt10_local</a>(buffer, &amp;length);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_10_LOCAL, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-10: UTC Time */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a27"></a><a class="code" href="group__kdrive__express__dpt.html#gad87a1e28e19b2074ee3eb07f3156f747">kdrive_dpt_encode_dpt10_utc</a>(buffer, &amp;length);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_10_UTC, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-10: Time */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a28"></a><a class="code" href="group__kdrive__express__dpt.html#gae160bb4919eab16c65e51ff9587458d1">kdrive_dpt_encode_dpt10</a>(buffer, &amp;length, 1, 11, 11, 11);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_10, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-11: Local Date */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a29"></a><a class="code" href="group__kdrive__express__dpt.html#ga537899571339167d44f61f056765fd98">kdrive_dpt_encode_dpt11_local</a>(buffer, &amp;length);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_11_LOCAL, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-11: UTC Date */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a30"></a><a class="code" href="group__kdrive__express__dpt.html#gac8484d08478042fdc22363bc5aaca571">kdrive_dpt_encode_dpt11_utc</a>(buffer, &amp;length);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_11_UTC, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-11: Date */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a31"></a><a class="code" href="group__kdrive__express__dpt.html#ga8780b9d728ddb9cd671c2f3d0d2d054a">kdrive_dpt_encode_dpt11</a>(buffer, &amp;length, 2012, 03, 12);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_11, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-12: 4 byte unsigned value */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a32"></a><a class="code" href="group__kdrive__express__dpt.html#gacce086c126113ee8ada36ece2530689f">kdrive_dpt_encode_dpt12</a>(buffer, &amp;length, 0xDEADBEEF);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_12, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-13: 4 byte signed value */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a33"></a><a class="code" href="group__kdrive__express__dpt.html#ga7d57f2db625d89674a3274bea674f044">kdrive_dpt_encode_dpt13</a>(buffer, &amp;length, -30000);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_13, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-14: 4 byte float value */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a34"></a><a class="code" href="group__kdrive__express__dpt.html#ga635237d4a9bfaedebaef1c3715c87306">kdrive_dpt_encode_dpt14</a>(buffer, &amp;length, 2025.12345f);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_14, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-15: Entrance access */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a35"></a><a class="code" href="group__kdrive__express__dpt.html#ga99468487073eec588c03873e993e6e47">kdrive_dpt_encode_dpt15</a>(buffer, &amp;length, 1234, 0, 1, 1, 0, 10);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_15, buffer, length);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* DPT-16: Character string, 14 bytes */</span></div>
<div class="line">        length = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a name="a36"></a><a class="code" href="group__kdrive__express__dpt.html#ga35e3c2eb39d6e5928a149c3da5d69940">kdrive_dpt_encode_dpt16</a>(buffer, &amp;length, <span class="stringliteral">&quot;Weinzierl Eng &quot;</span>);</div>
<div class="line">        <a class="code" href="group__kdrive__express__access.html#ga3491848bc260d2d4e753fe14869d194d">kdrive_ap_group_write</a>(ap, ADDR_DPT_16, buffer, length);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> on_telegram_callback(<span class="keyword">const</span> <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>* telegram, <a class="code" href="kdrive__express__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> telegram_len, <span class="keywordtype">void</span>* user_data)</div>
<div class="line">{</div>
<div class="line">        <span class="keyword">static</span> <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> data[<a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>];</div>
<div class="line">        <span class="keyword">static</span> <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sn[<a name="a37"></a><a class="code" href="kdrive__express__defs_8h.html#a51f120c9522c00c926b9f51d7aa4a0f2">KDRIVE_SN_LEN</a>];</div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> data_len = <a class="code" href="kdrive__express__defs_8h.html#ad312ef0b0ca684cce38ceb202b8babf8">KDRIVE_MAX_GROUP_VALUE_LEN</a>;</div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> address = 0;</div>
<div class="line">        <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> level = <a class="code" href="kdrive__express__logger_8h.html#a6f308019794a20b3c47c8b6a0d9f5e8f">KDRIVE_LOGGER_INFORMATION</a>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ((<a name="a38"></a><a class="code" href="group__kdrive__express__access.html#ga3d1e5ffba52ae40cb910823195c52d92">kdrive_ap_is_group_write</a>(telegram, telegram_len)) &amp;&amp;</div>
<div class="line">            (<a name="a39"></a><a class="code" href="group__kdrive__express__access.html#gace72aa921026fb7a127c55fee2d7722f">kdrive_ap_get_dest</a>(telegram, telegram_len, &amp;address) == <a class="code" href="kdrive__express__error_8h.html#a8bb73717f4806f2c6b71d660fd7aa463">KDRIVE_ERROR_NONE</a>) &amp;&amp;</div>
<div class="line">            (<a name="a40"></a><a class="code" href="group__kdrive__express__access.html#ga12fb51fa8f7a08648eb0550fb228dc69">kdrive_ap_get_group_data</a>(telegram, telegram_len, data, &amp;data_len) == <a class="code" href="kdrive__express__error_8h.html#a8bb73717f4806f2c6b71d660fd7aa463">KDRIVE_ERROR_NONE</a>))</div>
<div class="line">        {</div>
<div class="line">                <span class="keywordflow">switch</span> (address)</div>
<div class="line">                {</div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_1:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a7556af1cb61728b53228fa3af1c851de">bool_t</a> value = 0;</div>
<div class="line">                                <a name="a41"></a><a class="code" href="group__kdrive__express__dpt.html#ga7d80011c4b0fa3732ac36e2fbb4ed28c">kdrive_dpt_decode_dpt1</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[1 Bit] %d&quot;</span>, value ? 1 : 0);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_2:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a7556af1cb61728b53228fa3af1c851de">bool_t</a> control = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a7556af1cb61728b53228fa3af1c851de">bool_t</a> value = 0;</div>
<div class="line">                                <a name="a42"></a><a class="code" href="group__kdrive__express__dpt.html#ga388066cbccb372546b6c61016a1958bd">kdrive_dpt_decode_dpt2</a>(data, data_len, &amp;control, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[1 Bit controlled] %d %d&quot;</span>, control, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_3:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a7556af1cb61728b53228fa3af1c851de">bool_t</a> control = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> value = 0;</div>
<div class="line">                                <a name="a43"></a><a class="code" href="group__kdrive__express__dpt.html#gab3f360cc9bde02ab0bc5e91cf243e5da">kdrive_dpt_decode_dpt3</a>(data, data_len, &amp;control, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[3 Bit controlled] %d %d&quot;</span>, control, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_4:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> character = 0;</div>
<div class="line">                                <a name="a44"></a><a class="code" href="group__kdrive__express__dpt.html#ga3c4720c4fbb325cc653e0924f2955a98">kdrive_dpt_decode_dpt4</a>(data, data_len, &amp;character);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[Character] %d&quot;</span>, character);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_5:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> value = 0;</div>
<div class="line">                                <a name="a45"></a><a class="code" href="group__kdrive__express__dpt.html#gace5048d7bc0b786b4b38803be670bc27">kdrive_dpt_decode_dpt5</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[8 bit unsigned] 0x%02x&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_6:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#aef44329758059c91c76d334e8fc09700">int8_t</a> value = 0;</div>
<div class="line">                                <a name="a46"></a><a class="code" href="group__kdrive__express__dpt.html#ga4cd5e971f5c4221594fae3ec8082bce0">kdrive_dpt_decode_dpt6</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[8 bit signed] %d&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_7:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> value = 0;</div>
<div class="line">                                <a name="a47"></a><a class="code" href="group__kdrive__express__dpt.html#gaa7c01b1c4cb54fcd4f2df31bedfe3ba0">kdrive_dpt_decode_dpt7</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[2 byte unsigned] 0x%04x&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_8:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#aa343fa3b3d06292b959ffdd4c4703b06">int16_t</a> value = 0;</div>
<div class="line">                                <a name="a48"></a><a class="code" href="group__kdrive__express__dpt.html#ga6d5357bd9943aa5ef7cd476bb0212a89">kdrive_dpt_decode_dpt8</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[2 byte signed] %d&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_9:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a4611b605e45ab401f02cab15c5e38715">float32_t</a> value = 0;</div>
<div class="line">                                <a name="a49"></a><a class="code" href="group__kdrive__express__dpt.html#ga13e36ca54cf3de5e6d2acabf07ab59dd">kdrive_dpt_decode_dpt9</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[2 byte float] %f&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_10_LOCAL:</div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_10_UTC:</div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_10:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> day = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> hour = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> minute = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> second = 0;</div>
<div class="line">                                <a name="a50"></a><a class="code" href="group__kdrive__express__dpt.html#gaa95916f1d85d23f030f333d83fa210c3">kdrive_dpt_decode_dpt10</a>(data, data_len, &amp;day, &amp;hour, &amp;minute, &amp;second);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[time] %d %d %d %d&quot;</span>, day, hour, minute, second);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_11_LOCAL:</div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_11_UTC:</div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_11:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> year = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> month = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> day = 0;</div>
<div class="line">                                <a name="a51"></a><a class="code" href="group__kdrive__express__dpt.html#ga15e937f6984b9e3bc8f1c5f4db4cb52e">kdrive_dpt_decode_dpt11</a>(data, data_len, &amp;year, &amp;month, &amp;day);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[date] %d %d %d&quot;</span>, year, month, day);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_12:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> value = 0;</div>
<div class="line">                                <a name="a52"></a><a class="code" href="group__kdrive__express__dpt.html#gacc50e73fd093bd001ed06f04ba611fb8">kdrive_dpt_decode_dpt12</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[4 byte unsigned] 0x%08x&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_13:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> value = 0;</div>
<div class="line">                                <a name="a53"></a><a class="code" href="group__kdrive__express__dpt.html#ga98cb64841ffc9565bbebbd82288b8f08">kdrive_dpt_decode_dpt13</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[4 byte signed] %d&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_14:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a4611b605e45ab401f02cab15c5e38715">float32_t</a> value = 0;</div>
<div class="line">                                <a name="a54"></a><a class="code" href="group__kdrive__express__dpt.html#ga2dc8196dc23dfd3848a9eab1dfc3e52e">kdrive_dpt_decode_dpt14</a>(data, data_len, &amp;value);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[4 byte float] %f&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_15:</div>
<div class="line">                        {</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> accessCode = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a7556af1cb61728b53228fa3af1c851de">bool_t</a> error = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a7556af1cb61728b53228fa3af1c851de">bool_t</a> permission = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a7556af1cb61728b53228fa3af1c851de">bool_t</a> direction = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a7556af1cb61728b53228fa3af1c851de">bool_t</a> encrypted = 0;</div>
<div class="line">                                <a class="code" href="kdrive__express__config_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> index = 0;</div>
<div class="line">                                <a name="a55"></a><a class="code" href="group__kdrive__express__dpt.html#ga705517c5bcc099b189ef4d6ce8ab8af9">kdrive_dpt_decode_dpt15</a>(data, data_len, &amp;accessCode, &amp;error, &amp;permission, &amp;direction, &amp;encrypted, &amp;index);</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[entrance access] %d %d %d %d %d&quot;</span>,</div>
<div class="line">                                                 accessCode, error, permission, direction, encrypted, index);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">case</span> ADDR_DPT_16:</div>
<div class="line">                        {</div>
<div class="line">                                <span class="comment">/* kdrive_dpt_decode_dpt16 is not null terminated, so we null terminate */</span></div>
<div class="line">                                <span class="keywordtype">char</span> value[<a name="a56"></a><a class="code" href="kdrive__express__defs_8h.html#ad467292083aead6bd1ce36d83f74f356">KDRIVE_DPT16_LENGTH</a> + 1];</div>
<div class="line">                                <a name="a57"></a><a class="code" href="group__kdrive__express__dpt.html#ga7a01aad55c346450cdba177a91e3c738">kdrive_dpt_decode_dpt16</a>(data, data_len, value);</div>
<div class="line">                                value[<a class="code" href="kdrive__express__defs_8h.html#ad467292083aead6bd1ce36d83f74f356">KDRIVE_DPT16_LENGTH</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(level, <span class="stringliteral">&quot;[character string] %s&quot;</span>, value);</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">default</span>:</div>
<div class="line">                                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(<a class="code" href="kdrive__express__logger_8h.html#a6f308019794a20b3c47c8b6a0d9f5e8f">KDRIVE_LOGGER_INFORMATION</a>, <span class="stringliteral">&quot;A_GroupValue_Write: 0x%04x &quot;</span>, address);</div>
<div class="line">                                <a name="a58"></a><a class="code" href="group__kdrive__express__logger.html#ga4a64614f55db105c0e44ea3716f59bd0">kdrive_logger_dump</a>(<a class="code" href="kdrive__express__logger_8h.html#a6f308019794a20b3c47c8b6a0d9f5e8f">KDRIVE_LOGGER_INFORMATION</a>, <span class="stringliteral">&quot;A_GroupValue_Write Data :&quot;</span>, data, data_len);</div>
<div class="line">                }</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> error_callback(<a class="code" href="kdrive__express__config_8h.html#a6e277169b51e7b5d4876ec6837433e1a">error_t</a> e, <span class="keywordtype">void</span>* user_data)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordflow">if</span> (e != <a name="a59"></a><a class="code" href="kdrive__express__error_8h.html#a5b67e5aa722577aa12a59f1ec175f879">KDRIVE_TIMEOUT_ERROR</a>)</div>
<div class="line">        {</div>
<div class="line">                <span class="keyword">static</span> <span class="keywordtype">char</span> error_message[ERROR_MESSAGE_LEN];</div>
<div class="line">                <a name="a60"></a><a class="code" href="kdrive__express__error_8h.html#ad55dca39f20b4008d66695289fa485bc">kdrive_get_error_message</a>(e, error_message, ERROR_MESSAGE_LEN);</div>
<div class="line">                <a class="code" href="group__kdrive__express__logger.html#gaab339b1777801afe6b94c73c80a7baf6">kdrive_logger_ex</a>(<a name="a61"></a><a class="code" href="kdrive__express__logger_8h.html#a4a0a6a9b8c4ea40fa3664800eebc5255">KDRIVE_LOGGER_ERROR</a>, <span class="stringliteral">&quot;kdrive error: %s&quot;</span>, error_message);</div>
<div class="line">        }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 4 2016 14:49:31 for kdriveExpress SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
